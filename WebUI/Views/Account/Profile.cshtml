@using WebUI.HtmlHelpers;
@model BusinessLayer.BusinessModelsDTO.UserProfile

@{
    ViewBag.Title = "Profile";
}

<h2>Your profile info</h2>

<div>
    <h4>Information</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.UserId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.UserId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Nickname)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Nickname)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PasswordHash)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PasswordHash)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TotalPosts)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TotalPosts)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TotalComments)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TotalComments)
        </dd>

        <dt>
            <!-- User Photo-->
            <img src="@Html.ShowUserPhoto(User.Identity.Name)" alt="no avatar pic" width="100" height="100" />
        </dt>

        <dd>
            @using (Html.BeginForm("SetUserPhoto", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
            {
                <div class="form-group">
                    <label class="col-md-2 control-label">User photo:</label>
                    <div class="col-md-10">
                        <input type="file" name="UserAvatar" id="fileUpload" accept=".png,.jpg,.jpeg,.gif,.tif"/>
                    </div>
                    <button type="submit" class="btn">Set Photo</button>
                </div>
            }
        </dd>

    </dl>
</div>
